async function getTheme(){try{return new Promise((e,t)=>{chrome.storage.sync.get(["st-theme"],function(t){t["st-theme"]?e(t["st-theme"]):e("dark")})})}catch(e){console.log(e)}return"dark"}function setThemeLocal(e){null!=e&&(theme=e?"dark":"light")}function setThemeChromeStorage(){try{chrome.storage.sync.set({"st-theme":theme},function(){})}catch(e){console.log(e)}}var theme;window.onload=async function(){theme=await getTheme(),document.getElementById("themeToggle").checked="light"!==theme,document.getElementById("themeToggle").addEventListener("click",function(){setThemeLocal(this.checked)}),document.getElementById("confirm-theme").addEventListener("click",function(e){e.preventDefault(),setThemeChromeStorage(),window.close()})};